<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>XRBitcoinCash · Compliance & Legal Matrix</title>
  <meta name="description" content="Jurisdiction-by-jurisdiction compliance matrix for XRBitcoinCash (XRBC): AML/CTF baselines, financial promotions, Travel Rule notes, licensing triggers, and XRPL TokenEscrow readiness. Includes live well-known scan and TOML probe." />
  <link rel="canonical" href="https://xrbitcoincash.com/compliance" />
  <meta name="robots" content="index, follow" />
  <meta name="theme-color" content="#000" />
  <link rel="icon" href="/xrbc-nft.png" />

  <style>
    :root{
      --bg:#000; --text:#00ff95; --muted:#00c27d; --accent:#39ff14;
      --warn:#f7b500; --danger:#ff5555; --panel:rgba(0,15,8,0.88);
      --radius:12px; --shadow:0 0 30px rgba(0,255,149,0.2); --line:rgba(57,255,20,.25)
    }
    *{box-sizing:border-box}
    body{margin:0;font-family:ui-monospace,Consolas,Menlo,monospace;background:var(--bg);color:var(--text);overflow-x:hidden}
    body::before{content:"";position:fixed;inset:0;background:url('https://i.ibb.co/N9M5rkg/matrix-rain.gif') center/cover no-repeat;opacity:.15;z-index:-1}
    header{padding:14px 20px;border-bottom:1px solid var(--line);background:linear-gradient(180deg,rgba(0,20,10,.92),rgba(0,0,0,.6))}
    .brand{font-weight:800;font-size:1rem;letter-spacing:.3px;color:var(--accent)}
    .muted{color:var(--muted);font-size:.92rem;opacity:.95}
    main{padding:20px;max-width:1200px;margin:auto}
    .panel{background:var(--panel);border:1px solid var(--line);border-radius:var(--radius);margin:20px 0;padding:14px;box-shadow:var(--shadow)}
    .head{font-weight:800;margin-bottom:10px;color:var(--accent);letter-spacing:.25px}
    .note{color:var(--muted);font-size:.92rem}
    .grid{display:grid;gap:10px}
    .grid.cols-2{grid-template-columns:1fr 1fr}
    .grid.cols-3{grid-template-columns:1fr 1fr 1fr}
    @media(max-width:900px){.grid.cols-2,.grid.cols-3{grid-template-columns:1fr}}
    .chip{display:inline-flex;gap:6px;align-items:center;padding:4px 8px;border-radius:999px;border:1px solid var(--line);margin:2px 6px 2px 0}
    .chip .dot{width:8px;height:8px;border-radius:50%;background:var(--accent)}
    .ok{color:#39ff14}.warn{color:var(--warn)}.danger{color:var(--danger)}
    .btn{background:transparent;border:1px solid var(--accent);color:var(--accent);padding:6px 10px;border-radius:8px;cursor:pointer;font-weight:700}
    .btn:hover{background:rgba(57,255,20,.10)}
    input,textarea{width:100%;background:rgba(0,0,0,.4);border:1px solid var(--line);color:var(--text);border-radius:8px;padding:8px;font-family:inherit}
    pre,code{background:rgba(0,0,0,.35);border:1px solid var(--line);border-radius:8px}
    pre{padding:.75rem;overflow:auto}
    table{width:100%;border-collapse:collapse;font-size:.95rem}
    th,td{text-align:left;padding:10px;border-bottom:1px dashed var(--line)}
    th{color:#bdfcd5;font-weight:800}
    tr:last-child td{border-bottom:0}
    .kbd{border:1px solid var(--line);border-radius:6px;padding:2px 6px;background:rgba(0,0,0,.4)}
    footer{margin:30px 0 60px;padding:14px 20px;border-top:1px solid var(--line);text-align:center;font-size:.85rem;color:var(--muted)}
    a{color:#7bffc6;text-decoration:none} a:hover{text-decoration:underline}
    details summary{cursor:pointer}
  </style>
</head>
<body>
  <header>
    <div class="brand">XRBitcoinCash // Compliance & Legal Matrix</div>
    <div class="muted">decode · validate · disclose · prepare</div>
  </header>

  <main>
    <!-- SUMMARY -->
    <section class="panel">
      <div class="head">[ Summary — What’s live ]</div>
      <div class="grid cols-3">
        <div>
          <div class="chip"><span class="dot"></span> Non-custodial on-ledger DEX/AMM</div>
          <div class="chip"><span class="dot"></span> Issuer blackholed (immutability)</div>
          <div class="chip"><span class="dot"></span> TOML verified + security.txt</div>
          <div class="chip"><span class="dot"></span> CSAF provider online</div>
        </div>
        <div>
          <div class="chip"><span class="dot"></span> Read-only XRPL access (no secrets)</div>
          <div class="chip"><span class="dot"></span> Live orderbook pricing</div>
          <div class="chip"><span class="dot"></span> AI-audited docs (advisory)</div>
          <div class="chip"><span class="dot"></span> Minimal logs (no PII)</div>
        </div>
        <div>
          <div class="chip"><span class="dot"></span> Travel-Rule scope on custodial VASPs</div>
          <div class="chip"><span class="dot"></span> Sanctions: no prohibited parties</div>
          <div class="chip"><span class="dot"></span> Risk warnings in content</div>
          <div class="chip"><span class="dot"></span> TokenEscrow readiness (XRPL)</div>
        </div>
      </div>
      <p class="note" style="margin-top:10px">This page is informational, not legal advice.</p>
    </section>

    <!-- WELL-KNOWN SCAN -->
    <section class="panel" id="wk">
      <div class="head">[ .well-known Endpoints Scan ]</div>
      <div class="grid cols-2">
        <div>
          <button class="btn" id="scanBtn">Scan endpoints</button>
          <p class="note">Checks HTTP status for canonical endpoints (200 = ok).</p>
          <ul id="scanList" class="note" style="padding-left:16px"></ul>
        </div>
        <div>
          <pre id="scanJson">{ "status": "idle" }</pre>
        </div>
      </div>
    </section>

    <!-- TOML PROBE -->
    <section class="panel" id="toml">
      <div class="head">[ XRPL TOML Probe ]</div>
      <div class="grid cols-2">
        <div>
          <label class="note">TOML URL</label>
          <input id="tomlUrl" type="url" value="https://xrbitcoincash.com/.well-known/xrp-ledger.toml" />
          <div style="margin-top:8px;display:flex;gap:8px">
            <button class="btn" id="fetchToml">Fetch</button>
            <button class="btn" id="analyzeToml">Analyze</button>
          </div>
          <p class="note" style="margin-top:8px">Quick checks: issuer/currency blocks, accounts, social, domain match.</p>
          <ul id="tomlChecks" class="note" style="padding-left:16px"></ul>
        </div>
        <div>
          <pre id="tomlRaw"># click “Fetch” to load TOML</pre>
        </div>
      </div>
    </section>

    <!-- JURISDICTION MATRIX -->
    <section class="panel" id="matrix">
      <div class="head">[ Jurisdictional Compliance Matrix ]</div>
      <div class="grid cols-2" style="margin-bottom:8px">
        <input id="matrixSearch" placeholder="Search (e.g., UK, MiCA, Travel Rule, custody)"/>
        <div style="display:flex;gap:8px;align-items:center">
          <button class="btn" id="resetMatrix">Reset</button>
          <span class="note">Filter is text-match across all columns.</span>
        </div>
      </div>
      <div style="overflow:auto">
        <table id="matrixTable" aria-label="Compliance overview by jurisdiction">
          <thead>
            <tr>
              <th>Jurisdiction</th>
              <th>Framework / Focus</th>
              <th>Licensing triggers</th>
              <th>XRBC posture</th>
            </tr>
          </thead>
          <tbody><!-- populated by JS --></tbody>
        </table>
      </div>
    </section>

    <!-- RISK DISCLOSURES -->
    <section class="panel" id="risk">
      <div class="head">[ Risk Disclosures Vector ]</div>
      <textarea id="riskText" rows="7" class="note">XRBC is an XRPL issued token. No custody or client funds are held by the project. No performance guarantees. Trading involves market, slippage, and smart-contract risks. Users must comply with their jurisdiction’s laws and the rules of their chosen exchange/wallet, including sanctions and AML obligations. Content is informational, not investment advice.</textarea>
      <div style="margin-top:8px">
        <button class="btn" id="copyRisk">Copy</button>
        <span id="copyMsg" class="note" style="margin-left:8px"></span>
      </div>
    </section>

    <!-- SEC READINESS -->
    <section class="panel" id="sec">
      <div class="head">[ SEC Readiness Node — US-focused checklist ]</div>
      <details id="secDetails" open>
        <summary>Open checklist</summary>

        <!-- Status + actions (wired by JS) -->
        <div id="secMeta" class="mono" style="margin:8px 0;"></div>
        <div id="secScore" class="mono ok" style="margin:4px 0;"></div>
        <div id="secActions" style="display:flex;gap:8px;margin:8px 0;">
          <button class="btn" id="secExport">Export JSON</button>
          <button class="btn" id="secMarkAll">Mark all as reviewed</button>
        </div>

        <!-- Dynamic checklist -->
        <ul id="secList" class="note" style="padding-left:16px;margin-top:10px"></ul>
      </details>
      <p class="note" style="margin-top:8px">This is an internal readiness aid; it does not determine legal status.</p>
    </section>
  </main>

  <footer>
    © <span id="yr"></span> XRBitcoinCash — Informational only. Verify with licensed counsel.
  </footer>

  <script>
    document.getElementById('yr').textContent = new Date().getFullYear();

    /* =========================
       WELL-KNOWN SCAN
       ========================= */
    const endpoints = {
      security_txt: "https://xrbitcoincash.com/.well-known/security.txt",
      csaf_provider: "https://xrbitcoincash.com/.well-known/csaf/provider-metadata.json",
      csaf_latest: "https://xrbitcoincash.com/.well-known/csaf/2025/xrbc-2025-0001.json",
      ai_index: "https://xrbitcoincash.com/.well-known/ai.json",
      universal_manifest: "https://xrbitcoincash.com/universal-ai.json",
      provenance: "https://xrbitcoincash.com/ai/provenance.json"
    };
    const scanBtn = document.getElementById('scanBtn');
    const scanList = document.getElementById('scanList');
    const scanJson = document.getElementById('scanJson');

    async function scanEndpoints() {
      scanList.innerHTML = '';
      const results = {};
      for (const [k, url] of Object.entries(endpoints)) {
        try {
          const r = await fetch(url, { cache:"no-store" });
          results[k] = { url, ok: r.ok, status: r.status };
          const li = document.createElement('li');
          li.innerHTML = (r.ok ? '✅' : '❌') + ' <code>' + k + '</code> → ' + r.status + ' — <a href="' + url + '" target="_blank" rel="noopener">open</a>';
          li.className = r.ok ? 'ok' : 'danger';
          scanList.appendChild(li);
        } catch (e) {
          results[k] = { url, ok:false, error: String(e) };
          const li = document.createElement('li');
          li.innerHTML = '❌ <code>' + k + '</code> → ' + String(e);
          li.className = 'danger';
          scanList.appendChild(li);
        }
      }
      scanJson.textContent = JSON.stringify({ updated_at: new Date().toISOString(), results }, null, 2);
    }
    scanBtn.addEventListener('click', scanEndpoints);
    // quick passive scan on load
    scanEndpoints();

    /* =========================
       TOML PROBE (string checks)
       ========================= */
    const tomlUrl = document.getElementById('tomlUrl');
    const fetchTomlBtn = document.getElementById('fetchToml');
    const analyzeTomlBtn = document.getElementById('analyzeToml');
    const tomlRaw = document.getElementById('tomlRaw');
    const tomlChecks = document.getElementById('tomlChecks');
    let lastToml = '';

    fetchTomlBtn.addEventListener('click', async () => {
      tomlChecks.innerHTML = '';
      tomlRaw.textContent = '# fetching...';
      try {
        const r = await fetch(tomlUrl.value, { cache:"no-store" });
        const text = await r.text();
        lastToml = text;
        tomlRaw.textContent = text || '# (empty)';
      } catch(e) {
        tomlRaw.textContent = '# fetch error: ' + String(e);
      }
    });

    analyzeTomlBtn.addEventListener('click', () => {
      tomlChecks.innerHTML = '';
      if (!lastToml) {
        const li = document.createElement('li');
        li.textContent = 'Fetch the TOML first.';
        li.className = 'warn';
        tomlChecks.appendChild(li);
        return;
      }
      const add = (ok, text) => {
        const li = document.createElement('li');
        li.innerHTML = (ok ? '✅ ' : '⚠️ ') + text;
        li.className = ok ? 'ok' : 'warn';
        tomlChecks.appendChild(li);
      };
      const hasCurrencies = /\[\[CURRENCIES\]\]/i.test(lastToml);
      const hasIssuer = /issuer\s*=\s*"(r[1-9A-HJ-NP-Za-km-z]{25,35})"/i.test(lastToml);
      const hasCode = /(code|currency|symbol)\s*=\s*"[A-Za-z0-9]{1,}/i.test(lastToml);
      const hasAccounts = /\[\[ACCOUNTS\]\]/i.test(lastToml);
      const hasSocial = /(twitter|x\.com|github|discord|telegram|email|contact)/i.test(lastToml);
      const domainOk = new URL(tomlUrl.value).hostname.endsWith('xrbitcoincash.com');

      add(hasCurrencies, 'Contains [[CURRENCIES]] section');
      add(hasIssuer, 'Contains issuer address');
      add(hasCode, 'Contains currency code/symbol');
      add(hasAccounts, 'Contains [[ACCOUNTS]] section');
      add(hasSocial, 'Contains at least one social/contact field');
      add(domainOk, 'Served from expected domain (xrbitcoincash.com)');
    });

    /* =========================
       JURISDICTION MATRIX (static)
       ========================= */
    const MATRIX = [
      { j:"Global (FATF)",       f:"Travel Rule & VASP guidance",         t:"Custody, exchange-as-a-business",                    p:"XRBC is non-custodial; Travel Rule lies with custodial VASPs." },
      { j:"EU (MiCA)",           f:"CASP regime; disclosures",            t:"Operating CASP (custody, exchange, order exec.)",    p:"XRBC runs docs only; exchanges/wallets must hold CASP permissions if required." },
      { j:"UK (FCA)",            f:"Financial promotions; MLR reg.",      t:"Communicating/approving promotions; crypto business",p:"Informational content with risk warnings; no inducements; no custody." },
      { j:"USA (FinCEN/OFAC)",   f:"MSB, sanctions",                      t:"Money transmission/custody for others",              p:"No custody or transfer service; sanctions policy applied." },
      { j:"Japan (FSA)",         f:"Payment Services Act",                t:"Operating exchange/custody",                         p:"No exchange/custody; token only." },
      { j:"Korea (FSC)",         f:"Virtual Asset User Protection Act",   t:"VASP ops",                                          p:"Not a VASP; venue obligations apply locally." },
      { j:"Hong Kong (SFC)",     f:"VATP licensing",                      t:"Operating VATP; retail access",                      p:"No VATP operated; listings via SFC-licensed venues." },
      { j:"Singapore (MAS)",     f:"PSA (DPT services)",                  t:"DPT service provider activities",                    p:"XRBC provides no DPT services; venues must comply." },
      { j:"UAE (VARA/ADGM)",     f:"VASP rulebooks",                      t:"Exchange, brokerage, custody",                       p:"No VASP ops by XRBC; venue licensing applies." },
      { j:"Canada (CSA/FINTRAC)",f:"CTP undertakings; Travel Rule",       t:"CTP/MSB activities",                                 p:"No CTP/MSB role; platforms comply." },
      { j:"Mainland China",      f:"Restrictions/bans",                   t:"Crypto business/marketing",                          p:"No services or solicitation in mainland China." },
      { j:"Switzerland (FINMA)", f:"DLT/Token classification",            t:"Custody/exchange activities",                        p:"No custody; third-party venue licensing applies." },
      { j:"Germany (BaFin)",     f:"Crypto custody/exchange licensing",   t:"Crypto custody/exchange for others",                 p:"XRBC is not a custodian/exchange; venues comply." },
      { j:"France (AMF)",        f:"PSAN registration",                   t:"Digital asset services",                             p:"XRBC provides no services; PSAN obligations lie with providers." },
      { j:"Australia (ASIC/AUSTRAC)", f:"Design & Distribution; AML/CTF", t:"Crypto business & AML reporting",                    p:"Informational site only; venues observe AML/CTF." },
      { j:"Brazil (BCB/CVM)",    f:"Virtual asset regime (VASP)",         t:"Service provision/custody",                          p:"No custody; listings via compliant platforms." },
      { j:"South Africa (FSCA)", f:"Crypto asset service provider",       t:"CASP licensing",                                     p:"XRBC not a CASP; venues must be licensed." }
    ];
    const matrixTBody = document.querySelector('#matrixTable tbody');
    function renderMatrix(rows){
      matrixTBody.innerHTML='';
      rows.forEach(r=>{
        const tr=document.createElement('tr');
        tr.innerHTML=`<td>${r.j}</td><td>${r.f}</td><td>${r.t}</td><td>${r.p}</td>`;
        matrixTBody.appendChild(tr);
      });
    }
    renderMatrix(MATRIX);
    const matrixSearch=document.getElementById('matrixSearch');
    const resetMatrix=document.getElementById('resetMatrix');
    matrixSearch.addEventListener('input',()=>{
      const q=matrixSearch.value.trim().toLowerCase();
      if(!q) return renderMatrix(MATRIX);
      renderMatrix(MATRIX.filter(r=>(r.j+r.f+r.t+r.p).toLowerCase().includes(q)));
    });
    resetMatrix.addEventListener('click',()=>{matrixSearch.value='';renderMatrix(MATRIX)});

    /* =========================
       RISK DISCLOSURES
       ========================= */
    const riskText=document.getElementById('riskText');
    const copyRisk=document.getElementById('copyRisk');
    const copyMsg=document.getElementById('copyMsg');
    copyRisk.addEventListener('click',async()=>{
      try{await navigator.clipboard.writeText(riskText.value);copyMsg.textContent='Copied.';}
      catch(e){copyMsg.textContent='Copy failed.';}
      setTimeout(()=>copyMsg.textContent='',1500);
    });

    /* =========================
       SEC READINESS NODE
       ========================= */
    (() => {
      const STORAGE_KEY = "xrbc_sec_readiness_v1";
      const RECERT_DAYS = 90;

      // default checklist with evidence hints
      const DEFAULT_ITEMS = [
        { k:"no_offers",            text:"No public offering of securities; informational site only",                    done:true,  evidence:"/terms.html" },
        { k:"no_common_enterprise", text:"No ‘common enterprise’ or expectation of profit from efforts of others",      done:true,  evidence:"/whitepaper.html" },
        { k:"no_custody",           text:"No custody or client funds; non-custodial on-ledger trading only",            done:true,  evidence:"/bs/index.html" },
        { k:"risk_disclosures",     text:"Clear consumer risk language present on site",                                 done:true,  evidence:"/compliance.html#risk" },
        { k:"sanctions",            text:"Sanctions/blocked regions respected",                                         done:true,  evidence:"/terms.html#sanctions" },
        { k:"records",              text:"No PII; minimal logs; repo history tracks content changes",                   done:true,  evidence:"https://github.com/XRBitcoinCash/xrbitcoincash.github.io/commits/main" },
        { k:"exchanges_independent",text:"Any exchange listing is third-party; they hold required licenses",            done:true,  evidence:"/trade.html" },
        { k:"toml_verified",        text:"XRPL TOML present & verified",                                                 done:true,  evidence:"/.well-known/xrp-ledger.toml" }
      ];

      // load state
      const saved = JSON.parse(localStorage.getItem(STORAGE_KEY) || "null") || {};
      const items = (saved.items && Array.isArray(saved.items)) ? saved.items : DEFAULT_ITEMS;
      let lastReviewedAt = saved.lastReviewedAt || null;
      let reviewer = saved.reviewer || "local-operator";

      // dom
      const $list   = document.getElementById("secList");
      const $score  = document.getElementById("secScore");
      const $meta   = document.getElementById("secMeta");
      const $export = document.getElementById("secExport");
      const $markAll= document.getElementById("secMarkAll");

      function save(){
        localStorage.setItem(STORAGE_KEY, JSON.stringify({ items, lastReviewedAt, reviewer }));
      }
      function score(){
        const total = items.length;
        const done  = items.filter(i=>i.done).length;
        return { done, total, pct: Math.round((done/total)*100) };
      }
      function nextRecertISO(){
        if(!lastReviewedAt) return null;
        const d = new Date(lastReviewedAt);
        d.setDate(d.getDate()+RECERT_DAYS);
        return d.toISOString();
      }
      function draw(){
        // checklist
        $list.innerHTML='';
        items.forEach((it,idx)=>{
          const li=document.createElement('li');
          li.className=it.done?'ok':'warn';
          li.style.margin='6px 0';
          li.innerHTML = `
            ${it.done?'✅':'⬜'} ${it.text}
            <div style="display:flex;gap:6px;margin-top:4px;align-items:center;">
              <button class="btn" data-toggle="${idx}">toggle</button>
              <input data-evidence="${idx}" placeholder="evidence URL or note" value="${it.evidence||''}">
            </div>`;
          $list.appendChild(li);
        });
        // handlers
        $list.querySelectorAll('button[data-toggle]').forEach(b=>{
          b.onclick=()=>{
            const i=Number(b.getAttribute('data-toggle'));
            const ev = $list.querySelector(`input[data-evidence="${i}"]`).value.trim();
            if(!items[i].done && !ev){
              alert('Add evidence (URL or note) before marking reviewed.');
              return;
            }
            items[i].done = !items[i].done;
            if(items[i].done && ev) items[i].evidence = ev;
            lastReviewedAt = new Date().toISOString();
            save(); draw();
          };
        });
        $list.querySelectorAll('input[data-evidence]').forEach(inp=>{
          inp.onchange=()=>{
            const i=Number(inp.getAttribute('data-evidence'));
            items[i].evidence = inp.value.trim();
            save();
          };
        });
        // meta
        const s=score(); const next=nextRecertISO();
        $score.textContent = `SEC readiness: ${s.done}/${s.total} (${s.pct}%)`;
        $meta.textContent  = lastReviewedAt
          ? `Last reviewed: ${lastReviewedAt}` + (next ? ` · Next recert due: ${next}` : '')
          : `Not yet reviewed (recert interval ${RECERT_DAYS} days)`;
      }
      // export artifact for commit
      $export.onclick=()=>{
        const payload={
          document:"xrbc-sec-readiness",
          version:"1.0",
          reviewed_at:lastReviewedAt || new Date().toISOString(),
          reviewer,
          recert_days:RECERT_DAYS,
          items:items.map(i=>({k:i.k,text:i.text,done:i.done,evidence:i.evidence||null}))
        };
        const blob=new Blob([JSON.stringify(payload,null,2)],{type:"application/json"});
        const a=document.createElement('a');
        a.href=URL.createObjectURL(blob);
        a.download=`sec-readiness-${new Date().toISOString().slice(0,10)}.json`;
        document.body.appendChild(a); a.click(); a.remove();
      };
      // safer mark-all
      $markAll.onclick=()=>{
        if(!confirm('Mark ALL items reviewed and timestamp now?')) return;
        for(const it of items){ if(!it.evidence){ alert(`Missing evidence for: ${it.text}`); return; } }
        items.forEach(i=>i.done=true);
        lastReviewedAt = new Date().toISOString();
        save(); draw();
      };
      draw();
    })();
  </script>
</body>
</html>
