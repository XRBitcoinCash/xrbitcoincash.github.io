<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>XRPL Proxy Test</title>
  <style>
    body { background: #0b1118; color: #e7eef8; font-family: Inter, sans-serif; padding: 20px; }
    .status { font-weight: bold; color: #a7ff83; }
    .error { color: #ff6b6b; }
    button { padding: 10px 14px; border-radius: 8px; cursor: pointer; margin-top: 10px; }
  </style>
</head>
<body>
  <h1>XRPL Proxy Network Status Test</h1>
  <div>Network & Server Status: <span id="status">Loading...</span></div>
  <button id="refreshBtn">Check Status</button>

  <!-- Include XRPL front-end JS -->
  <script type="module" src="xrpl-frontend.js"></script>

  <script type="module">
    const statusEl = document.getElementById('status');
    const refreshBtn = document.getElementById('refreshBtn');

    async function checkStatus() {
      statusEl.textContent = 'Loading...';
      statusEl.classList.remove('error');

      try {
        // Only fetch server info — no other requests
        const info = await window.xrplFront.fetchServerInfo();
        console.log('Server Info:', info);
        statusEl.textContent = 'Connected ✅';
      } catch (err) {
        console.error('Error fetching server info:', err);
        statusEl.textContent = 'Disconnected ❌';
        statusEl.classList.add('error');
      }
    }

    refreshBtn.addEventListener('click', checkStatus);

    // Initial test
    checkStatus();
  </script>
</body>
</html>

