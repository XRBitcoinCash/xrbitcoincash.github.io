<script type="module">
  import { fetchLedgerInfo, fetchAccountInfo, fetchServerInfo } from './xrpl-frontend.js';

  // Display results in a preformatted block
  const outputEl = document.getElementById('xrpl-output');

  async function displayLedger() {
    try {
      const ledger = await fetchLedgerInfo();
      outputEl.textContent = JSON.stringify(ledger, null, 2);
    } catch (err) { console.error(err); }
  }

  async function displayAccount() {
    const address = document.getElementById('xrplAddress').value.trim();
    if (!address) return alert('Enter XRPL address');
    try {
      const account = await fetchAccountInfo(address);
      outputEl.textContent = JSON.stringify(account, null, 2);
    } catch (err) { console.error(err); }
  }

  async function displayServer() {
    try {
      const server = await fetchServerInfo();
      outputEl.textContent = JSON.stringify(server, null, 2);
    } catch (err) { console.error(err); }
  }

  // Expose for inline onclick use
  window.xrplFrontUI = { displayLedger, displayAccount, displayServer };
</script>

<div>
  <input id="xrplAddress" placeholder="XRPL address" />
  <button onclick="xrplFrontUI.displayAccount()">Account Info</button>
  <button onclick="xrplFrontUI.displayLedger()">Ledger Info</button>
  <button onclick="xrplFrontUI.displayServer()">Server Info</button>
</div>
<pre id="xrpl-output" style="background:#0b1118;color:#a7ff83;padding:12px;border-radius:8px;"></pre>
